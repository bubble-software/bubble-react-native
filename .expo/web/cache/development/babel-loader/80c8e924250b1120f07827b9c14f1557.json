{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/Login/Login.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useState, useContext } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { TextInput, Text, Button, Paragraph } from 'react-native-paper';\nimport { ScreenContainer } from \"../../components/ScreenContainer/ScreenContainer\";\nimport { styles } from \"./styles\";\nimport { setAsyncStorageItem } from \"../../utils/asyncStorage\";\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\";\nimport { login } from \"./service\";\nimport BubbleText from \"../../../assets/icons/bubbleText.svg\";\nexport var Login = function Login() {\n  var navigation = useNavigation();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useContext = useContext(AuthContext),\n      signIn = _useContext.signIn;\n\n  var onLoginPressed = function onLoginPressed() {\n    var credentials;\n    return _regeneratorRuntime.async(function onLoginPressed$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(login({\n              username: username,\n              password: password\n            }).catch(function (e) {\n              Alert.alert('Unable To Sign In.', 'Your username or password are incorrect.', [{\n                text: 'OK'\n              }]);\n            }));\n\n          case 2:\n            credentials = _context.sent;\n\n            if (!credentials) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(setAsyncStorageItem('credentials', JSON.stringify(credentials)));\n\n          case 6:\n            signIn(credentials);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(ScreenContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      marginVertical: '25%',\n      marginHorizontal: '8%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }\n  }, React.createElement(BubbleText, {\n    height: 100,\n    style: {\n      marginBottom: '20%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"username\",\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    value: username,\n    style: styles.emailTextInput,\n    autoCapitalize: \"none\",\n    underlineColor: \"transparent\",\n    mode: \"outlined\",\n    left: React.createElement(TextInput.Icon, {\n      name: \"account\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"password\",\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    value: password,\n    secureTextEntry: true,\n    style: styles.emailTextInput,\n    autoCapitalize: \"none\",\n    mode: \"outlined\",\n    left: React.createElement(TextInput.Icon, {\n      name: \"lock-outline\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }), React.createElement(Button, {\n    mode: \"contained\",\n    style: styles.loginButton,\n    onPress: function onPress() {\n      return onLoginPressed();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, React.createElement(Paragraph, {\n    style: styles.loginText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 6\n    }\n  }, \"Login\")), React.createElement(View, {\n    style: styles.footerTextContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Registration');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: styles.footerText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"Register\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Forgot Password Stack');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: styles.footerText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Forgot Password\")))));\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/Login/Login.tsx"],"names":["useNavigation","React","useState","useContext","TextInput","Text","Button","Paragraph","ScreenContainer","styles","setAsyncStorageItem","AuthContext","login","BubbleText","Login","navigation","username","setUsername","password","setPassword","signIn","onLoginPressed","catch","e","Alert","alert","text","credentials","JSON","stringify","flex","marginVertical","marginHorizontal","marginBottom","emailTextInput","loginButton","loginText","footerTextContainer","navigate","footerText"],"mappings":"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","sourcesContent":["import { useNavigation } from '@react-navigation/native'\nimport React, { useState, useContext } from 'react'\nimport { Alert, TouchableOpacity, View } from 'react-native'\nimport { TextInput, Text, Button, Paragraph } from 'react-native-paper'\nimport { ScreenContainer } from '../../components/ScreenContainer/ScreenContainer'\nimport { styles } from './styles'\nimport { setAsyncStorageItem } from '../../utils/asyncStorage'\n\nimport { AuthContext } from '../../providers/AuthProvider/AuthProvider'\nimport { login } from './service'\nimport BubbleText from '../../../assets/icons/bubbleText.svg'\nexport const Login = (): JSX.Element => {\n  const navigation = useNavigation()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const { signIn } = useContext(AuthContext)\n\n  const onLoginPressed = async () => {\n    const credentials = await login({\n      username,\n      password,\n    }).catch((e) => {\n      Alert.alert(\n        'Unable To Sign In.',\n        'Your username or password are incorrect.',\n        [\n          { text: 'OK' },\n        ],\n      )\n    })\n    if (credentials) {\n      await setAsyncStorageItem('credentials', JSON.stringify(credentials))\n      signIn(credentials)\n    }\n  }\n\n  return (\n\t\t<ScreenContainer>\n\t\t\t<View style={{ flex: 1, marginVertical: '25%', marginHorizontal: '8%' }}>\n\t\t\t\t<BubbleText height={100} style={{ marginBottom: '20%' }}/>\n\t\t\t\t<TextInput\n\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\tonChangeText={(username) => setUsername(username)}\n\t\t\t\t\tvalue={username}\n\t\t\t\t\tstyle={styles.emailTextInput}\n\t\t\t\t\tautoCapitalize='none'\n\t\t\t\t\tunderlineColor='transparent'\n\t\t\t\t\tmode=\"outlined\"\n\t\t\t\t\tleft={<TextInput.Icon name='account'/>}\n\t\t\t\t/>\n\t\t\t\t<TextInput\n\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\tonChangeText={(password) => setPassword(password)}\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tsecureTextEntry={true}\n\t\t\t\t\tstyle={styles.emailTextInput}\n\t\t\t\t\tautoCapitalize='none'\n\t\t\t\t\tmode=\"outlined\"\n\t\t\t\t\tleft={<TextInput.Icon name='lock-outline'/>}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tmode=\"contained\"\n\t\t\t\t\tstyle={styles.loginButton}\n\t\t\t\t\tonPress={() => onLoginPressed()}\n\t\t\t\t>\n\t\t\t\t\t<Paragraph style={styles.loginText}>Login</Paragraph>\n\t\t\t\t</Button>\n\t\t\t\t<View style={styles.footerTextContainer}>\n\t\t\t\t\t<TouchableOpacity onPress={() => navigation.navigate('Registration')}>\n\t\t\t\t\t\t<Text style={styles.footerText}>Register</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t<TouchableOpacity onPress={() => navigation.navigate('Forgot Password Stack')}>\n\t\t\t\t\t\t<Text style={styles.footerText}>Forgot Password</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</ScreenContainer>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
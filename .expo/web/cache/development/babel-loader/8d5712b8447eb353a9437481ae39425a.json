{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/bubble-react-native/src/screens/Post/Post.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Card, Title, Paragraph, Menu, Divider } from \"react-native-paper\";\nimport { blockUser, getComments } from \"../../api/service\";\nimport { Vote } from \"../../components/Vote/Vote\";\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\";\nimport { prettyCurrentDatePlusYears } from \"../../utils/stringhelpers\";\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { CommentCell } from \"../../components/CommentCell/CommentCell\";\nimport { DARKBLUE, LIGHTBLUE, LIGHTERBLUE, TABBARCOLOR } from \"../../utils/constants\";\nimport { useNavigation } from \"@react-navigation/native\";\nexport var Post = function Post(_ref) {\n  var route = _ref.route;\n  var navigation = useNavigation();\n\n  var _useContext = useContext(AuthContext),\n      credentials = _useContext.credentials;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      postMenuvisible = _React$useState2[0],\n      setPostMenuVisible = _React$useState2[1];\n\n  var openPostMenu = function openPostMenu() {\n    return setPostMenuVisible(true);\n  };\n\n  var closePostMenu = function closePostMenu() {\n    return setPostMenuVisible(false);\n  };\n\n  var routeData = route.params.data;\n  var title = routeData.title,\n      username = routeData.username,\n      dateCreated = routeData.date_created,\n      votes = routeData.votes,\n      content = routeData.content,\n      id = routeData.id,\n      userId = routeData.user_id;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      comments = _useState2[0],\n      setComments = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comment = _useState4[0],\n      setComment = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      text = _useState6[0],\n      setText = _useState6[1];\n\n  useEffect(function () {\n    getComments({\n      token: credentials,\n      postId: id\n    }).then(function (commentData) {\n      setComments(commentData);\n    });\n  }, []);\n\n  var blockUserAction = function blockUserAction() {\n    return _regeneratorRuntime.async(function blockUserAction$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(blockUser(credentials, userId));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var postMenu = React.createElement(Menu, {\n    style: {\n      backgroundColor: 'rgba(255,255,255,1)',\n      width: '70%',\n      marginTop: 40,\n      marginRight: 200,\n      borderRadius: 20\n    },\n    visible: postMenuvisible,\n    onDismiss: function onDismiss() {\n      return setPostMenuVisible(!postMenuvisible);\n    },\n    anchor: React.createElement(FontAwesome5, {\n      name: \"ellipsis-h\",\n      size: 20,\n      color: TABBARCOLOR,\n      onPress: openPostMenu,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, React.createElement(Menu.Item, {\n    onPress: function onPress() {\n      closePostMenu();\n      setTimeout(function () {\n        navigation.navigate(\"Report\", {\n          data: {\n            type: 'post',\n            id: id\n          }\n        });\n      }, 50);\n    },\n    title: React.createElement(Title, {\n      style: {\n        color: 'black'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, \"Report User\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), React.createElement(Menu.Item, {\n    onPress: function onPress() {\n      return blockUserAction().then(function () {\n        closePostMenu();\n        setTimeout(function () {\n          navigation.goBack();\n        }, 50);\n      });\n    },\n    title: React.createElement(Title, {\n      style: {\n        color: 'black'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 20\n      }\n    }, \"Block User\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }));\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(CommentCell, {\n      comment: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 16\n      }\n    });\n  };\n\n  var postCommentAction = function postCommentAction() {};\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: \"padding\",\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'column',\n      justifyContent: 'space-evenly',\n      flex: 1,\n      marginHorizontal: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, React.createElement(Card, {\n    style: {\n      backgroundColor: 'white',\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, React.createElement(Card.Content, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, React.createElement(Title, {\n    style: {\n      color: DARKBLUE,\n      textDecorationStyle: 'solid',\n      textDecorationLine: 'underline'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, title), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'flex-end'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, React.createElement(Paragraph, {\n    numberOfLines: 3,\n    style: {\n      color: LIGHTBLUE,\n      width: '80%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, content), React.createElement(Vote, {\n    votes: votes,\n    postId: id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  })))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, React.createElement(Paragraph, {\n    style: {\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, username, \" - \"), React.createElement(Paragraph, {\n    style: {\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, prettyCurrentDatePlusYears(dateCreated))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"comment-text-outline\",\n    size: 20,\n    color: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }), React.createElement(Paragraph, {\n    style: {\n      color: 'black',\n      marginHorizontal: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, comments ? comments.length : 0), postMenu)), React.createElement(Divider, {\n    style: {\n      marginVertical: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }), React.createElement(FlatList, {\n    data: comments,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      backgroundColor: LIGHTBLUE\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Enter comment here...\",\n    value: text,\n    onChangeText: function onChangeText(comment) {\n      return setText(comment);\n    },\n    textAlign: 'left',\n    style: {\n      marginTop: 20,\n      minHeight: 100,\n      backgroundColor: LIGHTERBLUE,\n      borderColor: DARKBLUE,\n      borderRadius: 20,\n      borderWidth: 2,\n      width: '85%',\n      alignSelf: 'center',\n      padding: 20,\n      marginLeft: 20,\n      paddingTop: 20\n    },\n    multiline: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }), React.createElement(FontAwesome, {\n    name: \"paper-plane\",\n    size: 24,\n    color: TABBARCOLOR,\n    style: {\n      marginHorizontal: 5,\n      marginRight: 12\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })))));\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/bubble-react-native/src/screens/Post/Post.tsx"],"names":["React","useContext","useEffect","useState","Card","Title","Paragraph","Menu","Divider","blockUser","getComments","Vote","AuthContext","prettyCurrentDatePlusYears","MaterialCommunityIcons","FontAwesome5","FontAwesome","CommentCell","DARKBLUE","LIGHTBLUE","LIGHTERBLUE","TABBARCOLOR","useNavigation","Post","route","navigation","credentials","postMenuvisible","setPostMenuVisible","openPostMenu","closePostMenu","routeData","params","data","title","username","dateCreated","date_created","votes","content","id","userId","user_id","comments","setComments","comment","setComment","text","setText","token","postId","then","commentData","blockUserAction","postMenu","backgroundColor","width","marginTop","marginRight","borderRadius","setTimeout","navigate","type","color","goBack","renderItem","item","postCommentAction","flex","flexDirection","justifyContent","marginHorizontal","marginVertical","alignItems","textDecorationStyle","textDecorationLine","length","minHeight","borderColor","borderWidth","alignSelf","padding","marginLeft","paddingTop"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\"\nimport { FlatList, KeyboardAvoidingView, SafeAreaView, TextInput, TouchableWithoutFeedback, View } from \"react-native\"\nimport { Card, Title, Paragraph, Button, List, Menu, Divider } from \"react-native-paper\"\nimport { blockUser, getComments, postComment } from \"../../api/service\"\nimport { Vote } from \"../../components/Vote/Vote\"\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\"\nimport { prettyCurrentDatePlusYears } from \"../../utils/stringhelpers\"\nimport { MaterialCommunityIcons } from '@expo/vector-icons'\nimport { FontAwesome5 } from '@expo/vector-icons'; \nimport { FontAwesome } from '@expo/vector-icons'; \nimport { CommentCell } from \"../../components/CommentCell/CommentCell\"\nimport { DARKBLUE, LIGHTBLUE, LIGHTERBLUE, TABBARCOLOR } from \"../../utils/constants\"\nimport { useNavigation } from \"@react-navigation/native\"\n\nexport const  Post = ({route}: any) =>  {\n\n    const navigation = useNavigation()\n    const { credentials } = useContext(AuthContext)\n    const [postMenuvisible, setPostMenuVisible] = React.useState(false);\n    const openPostMenu = () => setPostMenuVisible(true)\n    const closePostMenu = () => setPostMenuVisible(false)\n    const {data: routeData} = route.params\n    const { title, username, date_created: dateCreated, votes, content, id, user_id: userId} = routeData\n    const [comments, setComments] = useState();\n    const [comment, setComment] = useState('');\n    const [text, setText] = useState('')\n\n    useEffect(() => {\n        getComments({token: credentials, postId: id}).then((commentData) => {\n            setComments(commentData)\n        })\n    }, [])\n\n    const blockUserAction = async () => {\n        await blockUser(credentials!, userId)\n    }\n    const postMenu =  \n    <Menu\n        style={{\n            backgroundColor:'rgba(255,255,255,1)', \n            width:'70%', \n            marginTop:40, \n            marginRight: 200, \n            borderRadius: 20\n        }}\n        visible={postMenuvisible}\n        onDismiss={() => setPostMenuVisible(!postMenuvisible)}\n        anchor={\n            <FontAwesome5 \n                name=\"ellipsis-h\" \n                size={20} \n                color={TABBARCOLOR} \n                onPress={openPostMenu} \n            />\n        }\n    >\n        <Menu.Item \n            onPress={() => {\n                closePostMenu()\n                setTimeout(() =>{\n\t\t\t\t\tnavigation.navigate(\"Report\", { data: {type: 'post', id } })\n\t\t\t\t}, 50)\n            }} \n            title={\n            <Title style={{color:'black'}}>Report User</Title>} \n        />\n        <Divider/>\n        <Menu.Item \n            onPress={() => blockUserAction()\n                .then(() => {\n                    closePostMenu()\n                    setTimeout(() => {\n                        navigation.goBack()\n                    }, 50)\n                })\n            } \n            title={<Title style={{color:'black'}}>Block User</Title>}\n        />\n    </Menu>\n\n    const renderItem = ({ item }: any) => {\n        return <CommentCell comment={item}/>\n    }\n    // <View style={{flexDirection:'row', justifyContent: 'flex-end', flex:1, alignItems:'center', marginHorizontal: 20}}>\n    //     <List.Item \n    //         title={item.content} \n    //         description={() => { \n    //             return <View>\n    //                 <Paragraph>{item.username}</Paragraph>\n    //             </View>\n    //         }} \n    //         style={{width: '100%'}} \n    //     />\n    //     {commentMenu}\n    // </View>\n\n    const postCommentAction = () => {\n        // postComment({token: credentials!, content: comment, postId: id })\n    }\n\n\n\n    return (\n        <KeyboardAvoidingView behavior='padding' style={{flex:1}}>\n        <SafeAreaView style={{flex:1}}>\n        <View style={{flexDirection:'column', justifyContent:'space-evenly', flex:1, marginHorizontal: 10}}>\n            <Card style={{backgroundColor:'white', marginVertical: 10}}>\n                <Card.Content style={{alignItems:'center'}}>\n                    <Title style={{color: DARKBLUE, textDecorationStyle:'solid', textDecorationLine:'underline'}}>{ title }</Title>\n                    <View style={{flexDirection:'row', alignItems:'center', justifyContent:'flex-end',}}>\n                        <Paragraph  numberOfLines={3} style={{color: LIGHTBLUE, width: '80%'}}>{content}</Paragraph>\n                        <Vote  \n                            votes={votes}\n                            postId={id}\n                        />\n                    </View>\n                </Card.Content>\n            </Card>\n            <View style={{flexDirection:'row' ,justifyContent: 'space-between'}}>\n                <View style={{flexDirection:'row'}}>\n                    <Paragraph style={{color:'black'}}>{username} - </Paragraph>\n                    <Paragraph style={{color:'black'}}>{prettyCurrentDatePlusYears(dateCreated)}</Paragraph>\n                </View>\n                <View style={{flexDirection:'row', alignItems: 'center'}}>\n                    <MaterialCommunityIcons name=\"comment-text-outline\" size={20} color=\"black\"/>\n                    <Paragraph style={{color:'black', marginHorizontal: 10}}>\n                        {comments \n                            ? comments.length \n                            : 0\n                        }\n                    </Paragraph>\n                    {postMenu}\n                </View>\n            </View>\n            <Divider style={{marginVertical: 10}}/>\n            <FlatList  data={comments} renderItem={renderItem} keyExtractor={(item) => item.id} />\n            <View style={{flexDirection:'row', justifyContent: 'space-between',alignItems:'center', backgroundColor: LIGHTBLUE}}>\n                <TextInput\n                    placeholder='Enter comment here...'\n                    value={text}\n                    onChangeText={comment => setText(comment)}\n                    textAlign={'left'}\n                    style={{\n                        marginTop: 20,\n                        minHeight:100,\n                        backgroundColor:LIGHTERBLUE,\n                        borderColor:DARKBLUE,\n                        borderRadius: 20,\n                        borderWidth: 2,\n                        width: '85%', \n                        alignSelf:'center',\n                        padding:20,\n                        marginLeft: 20,\n                        paddingTop:20\n                    }}\n                    multiline={true}\n                />\n                <FontAwesome name=\"paper-plane\" size={24} color={TABBARCOLOR} style={{marginHorizontal:5, marginRight:12}} />                \n                </View>\n                {/* <Button onPress={() => postCommentAction()}>Submit</Button> */}\n            </View>\n        </SafeAreaView>\n        </KeyboardAvoidingView>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}
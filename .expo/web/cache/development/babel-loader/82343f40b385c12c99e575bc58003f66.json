{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/bubble-react-native/src/components/CommentCell/CommentCell.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Divider, List, Menu, Paragraph, Title } from 'react-native-paper';\nimport { prettyCurrentDatePlusYears } from \"../../utils/stringhelpers\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { Vote } from \"../Vote/Vote\";\nimport { TABBARCOLOR } from \"../../utils/constants\";\nimport { useNavigation } from '@react-navigation/native';\nimport { blockUser } from \"../../api/service\";\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\";\nvar DeviceWidth = Dimensions.get('window').width;\nexport var CommentCell = function CommentCell(_ref) {\n  var comment = _ref.comment;\n\n  var _useContext = useContext(AuthContext),\n      credentials = _useContext.credentials;\n\n  var navigation = useNavigation();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      commentMenuvisible = _React$useState2[0],\n      setCommentMenuVisible = _React$useState2[1];\n\n  var openCommentMenu = function openCommentMenu() {\n    return setCommentMenuVisible(true);\n  };\n\n  var closeCommentMenu = function closeCommentMenu() {\n    return setCommentMenuVisible(false);\n  };\n\n  var id = comment.id,\n      userId = comment.user_id;\n\n  var blockUserAction = function blockUserAction() {\n    return _regeneratorRuntime.async(function blockUserAction$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(blockUser(credentials, userId));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var commentMenu = React.createElement(Menu, {\n    style: {\n      backgroundColor: '#f0f8ff',\n      width: '70%',\n      marginTop: 40,\n      marginRight: 15,\n      borderRadius: 20\n    },\n    visible: commentMenuvisible,\n    onDismiss: closeCommentMenu,\n    anchor: React.createElement(FontAwesome5, {\n      name: \"ellipsis-v\",\n      size: 20,\n      color: TABBARCOLOR,\n      onPress: function onPress() {\n        return setCommentMenuVisible(!commentMenuvisible);\n      },\n      style: {\n        marginLeft: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 12\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }\n  }, React.createElement(Menu.Item, {\n    onPress: function onPress() {\n      setCommentMenuVisible(false);\n      setTimeout(function () {\n        navigation.navigate(\"Report\", {\n          data: {\n            type: 'comment',\n            id: id\n          }\n        });\n      }, 50);\n    },\n    title: React.createElement(Title, {\n      style: {\n        color: 'black'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, \"Report Comment\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }), React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }\n  }), React.createElement(Menu.Item, {\n    onPress: function onPress() {\n      return blockUserAction().then(function () {\n        closeCommentMenu();\n        setTimeout(function () {\n          navigation.goBack();\n        }, 50);\n      });\n    },\n    title: React.createElement(Title, {\n      style: {\n        color: 'black'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"Block User\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }));\n  return React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      flex: 1,\n      alignItems: 'center',\n      marginVertical: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, React.createElement(List.Item, {\n    title: React.createElement(View, {\n      style: {\n        paddingVertical: 10,\n        marginLeft: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: 'black'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 64\n      }\n    }, comment.content)),\n    description: function description() {\n      return React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 8\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, React.createElement(Paragraph, {\n        style: {\n          color: 'black'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 10\n        }\n      }, comment.username, \" -\"), React.createElement(Paragraph, {\n        style: {\n          color: 'black'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 10\n        }\n      }, prettyCurrentDatePlusYears(comment.dateCreated))), React.createElement(Vote, {\n        votes: comment.votes,\n        prevVote: comment.prevVote,\n        isVoted: comment.isVoted,\n        postId: comment.id,\n        flexDirection: 'row',\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }));\n    },\n    style: {\n      width: '95%',\n      backgroundColor: 'white',\n      borderRadius: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }\n  }), commentMenu);\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/bubble-react-native/src/components/CommentCell/CommentCell.tsx"],"names":["React","useContext","Divider","List","Menu","Paragraph","Title","prettyCurrentDatePlusYears","FontAwesome5","Vote","TABBARCOLOR","useNavigation","blockUser","AuthContext","DeviceWidth","Dimensions","get","width","CommentCell","comment","credentials","navigation","useState","commentMenuvisible","setCommentMenuVisible","openCommentMenu","closeCommentMenu","id","userId","user_id","blockUserAction","commentMenu","backgroundColor","marginTop","marginRight","borderRadius","marginLeft","setTimeout","navigate","data","type","color","then","goBack","flexDirection","justifyContent","flex","alignItems","marginVertical","paddingVertical","content","username","dateCreated","votes","prevVote","isVoted"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport { View, Text, Dimensions, TouchableOpacity } from 'react-native'\nimport { Divider, List, Menu, Paragraph, Title } from 'react-native-paper'\n// import { Vote } from '../Vote/Vote'\nimport { styles } from './style'\nimport { MaterialCommunityIcons } from '@expo/vector-icons'; \nimport { prettyCurrentDatePlusYears, truncateString } from '../../utils/stringhelpers'\nimport { FontAwesome5 } from '@expo/vector-icons'; \nimport { Vote } from '../Vote/Vote';\nimport { DARKBLUE, TABBARCOLOR } from '../../utils/constants';\nimport { useNavigation } from '@react-navigation/native';\nimport { blockUser } from '../../api/service';\nimport { AuthContext } from '../../providers/AuthProvider/AuthProvider';\n\nconst DeviceWidth = Dimensions.get('window').width\n\nexport const CommentCell = ({comment}) => {\n\t\n\tconst { credentials } = useContext(AuthContext)\n\tconst navigation = useNavigation()\n\tconst [commentMenuvisible, setCommentMenuVisible] = React.useState(false);\n\tconst openCommentMenu = () => setCommentMenuVisible(true)\n\tconst closeCommentMenu = () => setCommentMenuVisible(false)\n\tconst { id, user_id: userId } = comment\n\n\tconst blockUserAction = async () => {\n\t\tawait blockUser(credentials!, userId)\n}\n\n\tconst commentMenu =  \n\t\t<Menu\n\t\t\tstyle={{backgroundColor:'#f0f8ff', width:'70%', marginTop:40, marginRight: 15, borderRadius: 20}}\n\t\t\tvisible={commentMenuvisible}\n\t\t\tonDismiss={closeCommentMenu}\n\t\t\tanchor={<FontAwesome5 \n\t\t\t\tname=\"ellipsis-v\" \n\t\t\t\tsize={20} \n\t\t\t\tcolor={TABBARCOLOR}\n\t\t\t\tonPress={() => setCommentMenuVisible(!commentMenuvisible)}\n\t\t\t\tstyle={{marginLeft: 10}}\n\t\t\t/>}\n\t\t>\n\t\t<Menu.Item  \n\t\t\tonPress={() => {\n\t\t\t\tsetCommentMenuVisible(false)\n\t\t\t\tsetTimeout(() =>{\n\t\t\t\t\tnavigation.navigate(\"Report\", { data: {type: 'comment', id } })\n\t\t\t\t}, 50)\n\t\t\t}} \n\t\t\ttitle={<Title style={{color:'black'}}\n\t\t>\n\t\t\tReport Comment\n\t\t</Title>} />\n\t\t<Divider/>\n\t\t<Menu.Item  \n\t\t\tonPress={() => blockUserAction()\n\t\t\t\t.then(() => {\n\t\t\t\t\tcloseCommentMenu()\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tnavigation.goBack()\n\t\t\t\t\t}, 50)\n\t\t\t\t})\n\t\t\t} \n\t\t\ttitle={<Title style={{color:'black'}}>Block User</Title>} \n\t\t/>\n\t</Menu>\n\n\treturn (\n\t\t<View style=\n\t\t{{flexDirection:'row', justifyContent: 'center', flex:1, alignItems:'center', marginVertical:5,}}>\n\t\t\t<List.Item\n\t\t\t\ttitle={<View style={{paddingVertical: 10, marginLeft: 10}}><Text style={{color:'black'}}>{comment.content}</Text></View>} \n\t\t\t\tdescription={() => { \n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<View style={{flexDirection:'row', justifyContent: 'space-between'}}>\n\t\t\t\t\t\t\t\t<View style={{flexDirection:'row'}}>\n\t\t\t\t\t\t\t\t\t<Paragraph style={{color:'black'}}>{comment.username} -</Paragraph>\n\t\t\t\t\t\t\t\t\t<Paragraph style={{color:'black'}}>{prettyCurrentDatePlusYears(comment.dateCreated)}</Paragraph>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t<Vote  \n\t\t\t\t\t\t\t\t\tvotes={comment.votes} \n\t\t\t\t\t\t\t\t\tprevVote={comment.prevVote}\n\t\t\t\t\t\t\t\t\tisVoted={comment.isVoted}\n\t\t\t\t\t\t\t\t\tpostId={comment.id}\n\t\t\t\t\t\t\t\t\tflexDirection={'row'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t)\n\t\t\t\t}} \n\t\t\t\tstyle={{width: '95%', backgroundColor:'white', borderRadius: 20}} \n\t\t\t/>\n\t\t\t{commentMenu}\n\t</View>\n\t)\n}"]},"metadata":{},"sourceType":"module"}
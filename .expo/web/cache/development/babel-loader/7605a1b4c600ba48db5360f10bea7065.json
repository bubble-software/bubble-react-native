{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/AccountSettings/components/UsernameModal/UsernameModal.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport { List, Button, Paragraph } from 'react-native-paper';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Modal } from \"../../../../components/Modal/Modal\";\nimport { DARKBLUE, LIGHTERBLUE } from \"../../../../utils/constants\";\nimport { updateUser } from \"../../../../api/service\";\nexport var UsernameModal = function UsernameModal(_ref) {\n  var credentials = _ref.credentials,\n      visible = _ref.visible,\n      onDismiss = _ref.onDismiss,\n      placeholderText = _ref.placeholderText;\n\n  var _useState = useState(placeholderText || ''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return item.component;\n  };\n\n  var submitAccountEdit = function submitAccountEdit() {\n    return _regeneratorRuntime.async(function submitAccountEdit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(updateUser(credentials, {\n              setting: 'username',\n              value: username\n            }).then(function () {\n              Alert.alert('Username has been updated');\n            }).catch(function (e) {\n              Alert.alert('Username already taken');\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var EmailFields = [{\n    id: 1,\n    component: React.createElement(TextInput, {\n      placeholder: 'Email',\n      value: username,\n      onChangeText: function onChangeText(text) {\n        return setUsername(text);\n      },\n      style: {\n        marginTop: '8%',\n        marginHorizontal: 20,\n        borderRadius: 5,\n        borderWidth: 3,\n        paddingHorizontal: 10,\n        paddingVertical: 10,\n        borderColor: DARKBLUE,\n        backgroundColor: LIGHTERBLUE\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    })\n  }, {\n    id: 2,\n    component: React.createElement(Button, {\n      style: {\n        marginVertical: '8%',\n        width: '60%',\n        alignSelf: 'center',\n        backgroundColor: DARKBLUE\n      },\n      mode: \"contained\",\n      onPress: function onPress() {\n        submitAccountEdit().then(function () {\n          return onDismiss();\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, React.createElement(Paragraph, {\n      style: {\n        color: 'white'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"Submit\"))\n  }];\n  return React.createElement(Modal, {\n    visible: visible,\n    onDismiss: onDismiss,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(FlatList, {\n    renderItem: renderItem,\n    scrollEnabled: false,\n    data: EmailFields,\n    style: {\n      borderRadius: 15,\n      backgroundColor: '#e9e9e9',\n      width: '90%',\n      alignSelf: 'center'\n    },\n    ListHeaderComponent: React.createElement(List.Item, {\n      style: {\n        alignSelf: 'stretch',\n        backgroundColor: DARKBLUE,\n        width: '100%'\n      },\n      titleStyle: {\n        fontWeight: '800'\n      },\n      title: 'Enter your new ',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/AccountSettings/components/UsernameModal/UsernameModal.tsx"],"names":["React","useState","List","Button","Paragraph","Modal","DARKBLUE","LIGHTERBLUE","updateUser","UsernameModal","credentials","visible","onDismiss","placeholderText","username","setUsername","renderItem","item","component","submitAccountEdit","setting","value","then","Alert","alert","catch","e","EmailFields","id","text","marginTop","marginHorizontal","borderRadius","borderWidth","paddingHorizontal","paddingVertical","borderColor","backgroundColor","marginVertical","width","alignSelf","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { List, Button, Paragraph } from 'react-native-paper'\nimport { Alert, FlatList, TextInput } from 'react-native'\nimport { Modal } from '../../../../components/Modal/Modal'\nimport { DARKBLUE, LIGHTERBLUE } from '../../../../utils/constants'\nimport { updateUser } from '../../../../api/service'\nimport { TemplateType } from './types'\n\nexport const UsernameModal: TemplateType = ({ credentials, visible, onDismiss, placeholderText }) => {\n  const [username, setUsername] = useState(placeholderText || '')\n\n  // useEffect(() => {\n  //   if (emailIsValid(email)) {\n  //     setIsDisabled(false)\n  //   } else {\n  //     setIsDisabled(true)\n  //   }\n  // }, [email])\n\n  const renderItem = ({ item }) => item.component\n\n  const submitAccountEdit = async () => {\n    await updateUser(credentials, { setting: 'username', value: username })\n      .then(() => {\n        Alert.alert(\n          'Username has been updated',\n        )\n      })\n      .catch((e) => {\n        Alert.alert(\n          'Username already taken',\n        )\n      })\n  }\n\n  const EmailFields = [\n    {\n      id: 1,\n      component:\n        <TextInput\n          placeholder={'Email'}\n          value={username}\n          onChangeText={text => setUsername(text)}\n          style={{\n            marginTop: '8%',\n            marginHorizontal: 20,\n            borderRadius: 5,\n            borderWidth: 3,\n            paddingHorizontal: 10,\n            paddingVertical: 10,\n            borderColor: DARKBLUE,\n            backgroundColor: LIGHTERBLUE,\n          }}\n        />,\n    },\n    {\n      id: 2,\n      component:\n        <Button\n          style={{\n            marginVertical: '8%',\n            width: '60%',\n            alignSelf: 'center',\n            backgroundColor: DARKBLUE,\n          }}\n          mode ='contained'\n          onPress={() => {\n            submitAccountEdit().then(() => onDismiss())\n          }}\n        >\n          <Paragraph style={{ color: 'white' }}>Submit</Paragraph>\n        </Button>,\n    },\n  ]\n\n  return (\n    <Modal visible={visible} onDismiss={onDismiss}>\n      <FlatList\n        renderItem={renderItem}\n        scrollEnabled={false}\n        data={EmailFields}\n        style={{ borderRadius: 15, backgroundColor: '#e9e9e9', width: '90%', alignSelf: 'center' }}\n        ListHeaderComponent={\n          <List.Item\n            style={{ alignSelf: 'stretch', backgroundColor: DARKBLUE, width: '100%' }}\n            titleStyle={{ fontWeight: '800' }}\n            title={'Enter your new '}\n          />\n        }\n      />\n    </Modal>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/AccountSettings/AccountSettings.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { ScreenContainer } from \"../../components/ScreenContainer/ScreenContainer\";\nimport { TableView } from \"../../components/TableView/TableView\";\nimport { getBlockedUsers, setDefaultCategory, unblockUser } from \"../../api/service\";\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\";\nimport { Divider, Subheading, Title } from 'react-native-paper';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Icon } from \"../../components/SVG/Icon/Icon\";\nimport { DARKBLUE } from \"../../utils/constants\";\nimport { UserContext } from \"../../providers/UserProvider/UserProvider\";\nimport { FontAwesome, FontAwesome5, Feather } from '@expo/vector-icons';\nimport { UsernameModal } from \"./components/UsernameModal/UsernameModal\";\nimport { PasswordModal } from \"./components/PasswordModal/PasswordModal\";\nimport { styles } from \"./styles\";\nimport HappyHour from \"../../../assets/icons/happyHourFilled.svg\";\nimport WhatsHappening from \"../../../assets/icons/whatsHappeningFilled.svg\";\nimport Deals from \"../../../assets/icons/dealsFilled.svg\";\nimport Misc from \"../../../assets/icons/miscFilled.svg\";\nimport Rec from \"../../../assets/icons/recFilled.svg\";\nimport { filter } from 'lodash';\nexport var AccountSettings = function AccountSettings() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      emailModalVisible = _useState2[0],\n      setEmailModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      passwordModalVisible = _useState4[0],\n      setPasswordModalVisible = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blockedUsers = _useState6[0],\n      setBlockedUsers = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      credentials = _useContext.credentials;\n\n  var _useContext2 = useContext(UserContext),\n      me = _useContext2.me;\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      defaultCat = _useState8[0],\n      setDefaultCat = _useState8[1];\n\n  var _useState9 = useState(me == null ? void 0 : me.username),\n      _useState10 = _slicedToArray(_useState9, 1),\n      usernameText = _useState10[0];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showBlocked = _useState12[0],\n      setShowBlocked = _useState12[1];\n\n  useEffect(function () {\n    (function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(getBlockedUsers(credentials).then(function (blockedUserData) {\n                setBlockedUsers(blockedUserData);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, [credentials]);\n  useEffect(function () {\n    defaultCat && setDefaultCategory(credentials, defaultCat);\n  }, [credentials, defaultCat]);\n\n  var unblockUserAction = function unblockUserAction(unblockParams) {\n    unblockUser(credentials, unblockParams).then(function () {\n      setBlockedUsers(function (prevArr) {\n        return filter(prevArr, function (blockedUser) {\n          return blockedUser.blockedUserId !== unblockParams;\n        });\n      });\n    });\n  };\n\n  var postTableCell = function postTableCell(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: styles.postTableCell,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 4\n      }\n    }, React.createElement(Title, {\n      style: {\n        color: DARKBLUE\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, item.blockedUsername), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return unblockUserAction(item.blockedUserId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, React.createElement(FontAwesome5, {\n      name: \"trash-alt\",\n      size: 24,\n      color: \"#ff6961\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(UsernameModal, {\n    visible: emailModalVisible,\n    onDismiss: function onDismiss() {\n      return setEmailModalVisible(!emailModalVisible);\n    },\n    placeholderText: usernameText,\n    credentials: credentials,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), React.createElement(PasswordModal, {\n    visible: passwordModalVisible,\n    onDismiss: function onDismiss() {\n      return setPasswordModalVisible(!passwordModalVisible);\n    },\n    placeholderText: usernameText,\n    credentials: credentials,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), React.createElement(ScreenContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      marginHorizontal: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.accountTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Account\"), React.createElement(Divider, {\n    style: [styles.divider, {\n      width: '60%',\n      alignSelf: 'center'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), React.createElement(Title, {\n    style: styles.userSettingsText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"User Settings\"), React.createElement(Divider, {\n    style: styles.divider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Change Username\"), React.createElement(View, {\n    style: styles.textInputField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, React.createElement(Subheading, {\n    style: {\n      color: DARKBLUE\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, usernameText), React.createElement(FontAwesome, {\n    name: \"pencil\",\n    size: 30,\n    color: \"rgba(0,0,0,.45)\",\n    onPress: function onPress() {\n      return setEmailModalVisible(!emailModalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  })), React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Password\"), React.createElement(View, {\n    style: styles.textInputField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, React.createElement(Subheading, {\n    style: {\n      color: DARKBLUE\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"********\"), React.createElement(FontAwesome, {\n    name: \"pencil\",\n    size: 30,\n    color: \"rgba(0,0,0,.45)\",\n    onPress: function onPress() {\n      return setPasswordModalVisible(!passwordModalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), React.createElement(Title, {\n    style: {\n      marginTop: 24,\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Default Category\"), React.createElement(Divider, {\n    style: styles.categoryDivder,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-evenly'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, defaultCat === 'Deals' ? React.createElement(Deals, {\n    width: 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }) : React.createElement(Icon, {\n    name: \"deals\",\n    size: 40,\n    color: \"white\",\n    onPress: function onPress() {\n      return setDefaultCat('Deals');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }), defaultCat === 'Happy Hour' ? React.createElement(HappyHour, {\n    width: 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }) : React.createElement(Icon, {\n    name: \"happyHour\",\n    size: 40,\n    color: \"white\",\n    onPress: function onPress() {\n      return setDefaultCat('Happy Hour');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }), defaultCat === 'Whats Happening' ? React.createElement(WhatsHappening, {\n    width: 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }) : React.createElement(Icon, {\n    name: \"whatsHappening\",\n    size: 40,\n    color: \"white\",\n    onPress: function onPress() {\n      return setDefaultCat('Whats Happening');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }), defaultCat === 'Misc' ? React.createElement(Misc, {\n    width: 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }) : React.createElement(Icon, {\n    name: \"misc\",\n    size: 40,\n    color: \"white\",\n    onPress: function onPress() {\n      return setDefaultCat('Misc');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }), defaultCat === 'Recreation' ? React.createElement(Rec, {\n    width: 45,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }) : React.createElement(Icon, {\n    name: \"rec\",\n    size: 40,\n    color: \"white\",\n    onPress: function onPress() {\n      return setDefaultCat('Recreation');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  })), React.createElement(View, {\n    style: {\n      marginTop: 24,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    style: {\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, \"Privacy\"), React.createElement(Feather, {\n    name: showBlocked ? 'eye' : 'eye-off',\n    size: 24,\n    color: \"white\",\n    onPress: function onPress() {\n      return setShowBlocked(!showBlocked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  })), React.createElement(Divider, {\n    style: {\n      borderWidth: 1.75,\n      borderColor: DARKBLUE,\n      width: '100%',\n      marginTop: '3%',\n      alignSelf: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }), showBlocked && React.createElement(TableView, {\n    data: blockedUsers,\n    tableCellRenderer: postTableCell,\n    scrollEnabled: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/use this /bubble-react-native/src/screens/AccountSettings/AccountSettings.tsx"],"names":["React","useContext","useEffect","useState","ScreenContainer","TableView","getBlockedUsers","setDefaultCategory","unblockUser","AuthContext","Divider","Subheading","Title","Icon","DARKBLUE","UserContext","FontAwesome","FontAwesome5","Feather","UsernameModal","PasswordModal","styles","HappyHour","WhatsHappening","Deals","Misc","Rec","filter","AccountSettings","emailModalVisible","setEmailModalVisible","passwordModalVisible","setPasswordModalVisible","blockedUsers","setBlockedUsers","credentials","me","defaultCat","setDefaultCat","username","usernameText","showBlocked","setShowBlocked","then","blockedUserData","unblockUserAction","unblockParams","prevArr","blockedUser","blockedUserId","postTableCell","item","color","blockedUsername","marginHorizontal","accountTitle","divider","width","alignSelf","userSettingsText","textInputField","marginTop","fontSize","categoryDivder","flexDirection","justifyContent","alignItems","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { ScreenContainer } from '../../components/ScreenContainer/ScreenContainer'\nimport { TableView } from '../../components/TableView/TableView'\nimport { getBlockedUsers, setDefaultCategory, unblockUser } from '../../api/service'\nimport { AuthContext } from '../../providers/AuthProvider/AuthProvider'\nimport { Divider, Subheading, Title } from 'react-native-paper'\nimport { View, Text, TouchableOpacity } from 'react-native'\nimport { Icon } from '../../components/SVG/Icon/Icon'\nimport { DARKBLUE } from '../../utils/constants'\nimport { UserContext } from '../../providers/UserProvider/UserProvider'\nimport { FontAwesome, FontAwesome5, Feather } from '@expo/vector-icons'\nimport { UsernameModal } from './components/UsernameModal/UsernameModal'\nimport { PasswordModal } from './components/PasswordModal/PasswordModal'\nimport { styles } from './styles'\nimport { BlockedUser, Category, UNBLOCK_PARAMS } from '../../api/types'\nimport HappyHour from '../../../assets/icons/happyHourFilled.svg'\nimport WhatsHappening from '../../../assets/icons/whatsHappeningFilled.svg'\nimport Deals from '../../../assets/icons/dealsFilled.svg'\nimport Misc from '../../../assets/icons/miscFilled.svg'\nimport Rec from '../../../assets/icons/recFilled.svg'\nimport { filter } from 'lodash'\n\nexport const AccountSettings = (): JSX.Element => {\n  const [emailModalVisible, setEmailModalVisible] = useState(false)\n  const [passwordModalVisible, setPasswordModalVisible] = useState(false)\n  const [blockedUsers, setBlockedUsers] = useState<BlockedUser[] | []>()\n  const { credentials } = useContext(AuthContext)\n  const { me } = useContext(UserContext)\n  const [defaultCat, setDefaultCat] = useState<undefined | Category>()\n  const [usernameText] = useState<undefined | string>(me?.username)\n  const [showBlocked, setShowBlocked] = useState(false)\n\n  useEffect(() => {\n    (async () => {\n      await getBlockedUsers(credentials!).then((blockedUserData) => {\n        setBlockedUsers(blockedUserData)\n      })\n    })()\n  }, [credentials])\n\n  useEffect(() => {\n    defaultCat && setDefaultCategory(credentials!, defaultCat)\n  }, [credentials, defaultCat])\n\n  const unblockUserAction = (unblockParams: UNBLOCK_PARAMS) => {\n    unblockUser(credentials!, unblockParams)\n      .then(() => {\n        setBlockedUsers((prevArr) => (\n          filter(prevArr, (blockedUser) => blockedUser.blockedUserId !== unblockParams )\n        ))\n      })\n    }\n  // const blockUserAction = (unblockParams: UNBLOCK_PARAMS) => {\n  //   blockUser(credentials!, unblockParams)\n  // }\n\n  const postTableCell = ({ item }: {item: BlockedUser}) => {\n    return (\n\t\t\t<View style={styles.postTableCell}>\n\t\t\t<Title style={{ color: DARKBLUE }}>{item.blockedUsername}</Title>\n      <TouchableOpacity onPress={ ()=> unblockUserAction(item.blockedUserId)}>\n        <FontAwesome5 name=\"trash-alt\" size={24} color=\"#ff6961\"/>        \n      </TouchableOpacity>\n\t\t\t</View>\n    )\n  }\n\n  return (\n    <>\n      <UsernameModal\n        visible={emailModalVisible}\n        onDismiss={() => setEmailModalVisible(!emailModalVisible)}\n        placeholderText={usernameText}\n        credentials={credentials!}\n      />\n      <PasswordModal\n        visible={passwordModalVisible}\n        onDismiss={() => setPasswordModalVisible(!passwordModalVisible)}\n        placeholderText={usernameText}\n        credentials={credentials!}\n      />\n      <ScreenContainer>\n        <View style={{ marginHorizontal: 20 }}>\n          <Text style={styles.accountTitle}>Account</Text>\n          <Divider style={[styles.divider, { width: '60%', alignSelf: 'center' }]}/>\n          <Title style={styles.userSettingsText}>User Settings</Title>\n          <Divider style={styles.divider}/>\n          <Title>Change Username</Title>\n          <View style={styles.textInputField}>\n            <Subheading style={{ color: DARKBLUE }}>{usernameText}</Subheading>\n            <FontAwesome\n              name=\"pencil\"\n              size={30}\n              color='rgba(0,0,0,.45)'\n              onPress={() => setEmailModalVisible(!emailModalVisible)}\n            />\n          </View>\n          <Title>Password</Title>\n          <View style={styles.textInputField}>\n            <Subheading style={{ color: DARKBLUE }}>********</Subheading>\n            <FontAwesome\n              name=\"pencil\"\n              size={30}\n              color='rgba(0,0,0,.45)'\n              onPress={() => setPasswordModalVisible(!passwordModalVisible)}\n            />\n          </View>\n          <Title style={{ marginTop: 24, fontSize: 24 }}>Default Category</Title>\n          <Divider style={styles.categoryDivder}/>\n          <View style={{ flexDirection: 'row', justifyContent: 'space-evenly' }}>\n            {\n              defaultCat === 'Deals'\n                ? <Deals width={45}/>\n                : <Icon\n                  name ='deals'\n                  size={40}\n                  color='white'\n                  onPress={() => setDefaultCat('Deals')}\n                />\n            }\n            {\n              defaultCat === 'Happy Hour'\n                ? <HappyHour width={45}/>\n                : <Icon\n                  name ='happyHour'\n                  size={40}\n                  color='white'\n                  onPress={() => setDefaultCat('Happy Hour')}\n                />\n            }\n            {\n              defaultCat === 'Whats Happening'\n                ? <WhatsHappening width={45}/>\n                : <Icon\n                  name ='whatsHappening'\n                  size={40}\n                  color='white'\n                  onPress={() => setDefaultCat('Whats Happening')}\n                />\n            }\n            {\n              defaultCat === 'Misc'\n                ? <Misc width={45}/>\n                : <Icon\n                  name ='misc'\n                  size={40}\n                  color='white'\n                  onPress={() => setDefaultCat('Misc')}\n                />\n            }\n            {\n              defaultCat === 'Recreation'\n                ? <Rec width={45}/>\n                : <Icon\n                  name ='rec'\n                  size={40}\n                  color='white'\n                  onPress={() => setDefaultCat('Recreation')}\n                />\n            }\n          </View>\n        <View style={{ marginTop: 24, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Title style={{ fontSize: 24 }}>Privacy</Title>\n          <Feather\n            name={showBlocked ? 'eye' : 'eye-off'}\n            size={24}\n            color=\"white\"\n            onPress={() => setShowBlocked(!showBlocked)}\n          />\n        </View>\n        <Divider style={{ borderWidth: 1.75, borderColor: DARKBLUE, width: '100%', marginTop: '3%', alignSelf: 'center' }}/>\n        { showBlocked &&\n          <TableView\n            data={blockedUsers}\n            tableCellRenderer={postTableCell}\n            scrollEnabled={false}\n          />\n        }\n      </View>\n      </ScreenContainer>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
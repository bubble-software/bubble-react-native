{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mattdizon/Desktop/bubble-react-native/src/screens/AccountSettings/AccountSettings.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect } from 'react';\nimport { ScreenContainer } from \"../../components/ScreenContainer/ScreenContainer\";\nimport { TableView } from \"../../components/TableView/TableView\";\nimport { blockUser, getBlockedUsers, setDefaultCategory, unblockUser, updateUser } from \"../../api/service\";\nimport { AuthContext } from \"../../providers/AuthProvider/AuthProvider\";\nimport { useState } from 'react';\nimport { Divider, Subheading, Title } from 'react-native-paper';\nimport View from \"react-native-web/dist/exports/View\";\nimport { Icon } from \"../../components/SVG/Icon/Icon\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { DARKBLUE, LIGHTERBLUE } from \"../../utils/constants\";\nimport { UserContext } from \"../../providers/UserProvider/UserProvider\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport { UsernameModal } from \"./components/UsernameModal/UsernameModal\";\nimport { PasswordModal } from \"./components/PasswordModal/PasswordModal\";\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { Feather } from '@expo/vector-icons';\nexport var AccountSettings = function AccountSettings() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      emailModalVisible = _useState2[0],\n      setEmailModalVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      passwordModalVisible = _useState4[0],\n      setPasswordModalVisible = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      blockedUsers = _useState6[0],\n      setBlockedUsers = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      credentials = _useContext.credentials;\n\n  var _useContext2 = useContext(UserContext),\n      me = _useContext2.me;\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      defaultCat = _useState8[0],\n      setDefaultCat = _useState8[1];\n\n  var _useState9 = useState(me == null ? void 0 : me.username),\n      _useState10 = _slicedToArray(_useState9, 2),\n      usernameText = _useState10[0],\n      setUsername = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      oldPassword = _useState12[0],\n      setOldPassword = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      newPassword = _useState14[0],\n      setNewPassword = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      confirmPassword = _useState16[0],\n      setConfirmPassword = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      showBlocked = _useState18[0],\n      setShowBlocked = _useState18[1];\n\n  useEffect(function () {\n    (function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(getBlockedUsers(credentials).then(function (blockedUserData) {\n                setBlockedUsers(blockedUserData);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  useEffect(function () {\n    defaultCat && setDefaultCategory(credentials, defaultCat);\n  }, [defaultCat]);\n\n  var changeUserFields = function changeUserFields(fields) {\n    updateUser(credentials, fields);\n  };\n\n  var unblockUserAction = function unblockUserAction(unblockParams) {\n    unblockUser(credentials, unblockParams);\n  };\n\n  var blockUserAction = function blockUserAction(unblockParams) {\n    blockUser(credentials, unblockParams);\n  };\n\n  var postTableCell = function postTableCell(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        backgroundColor: LIGHTERBLUE,\n        paddingHorizontal: 10,\n        paddingVertical: 5,\n        borderColor: DARKBLUE,\n        borderWidth: 3,\n        borderRadius: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, React.createElement(Title, {\n      style: {\n        color: DARKBLUE\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, item.blocked_username), React.createElement(FontAwesome5, {\n      name: \"trash-alt\",\n      size: 24,\n      color: \"#ff6961\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(UsernameModal, {\n    visible: emailModalVisible,\n    onDismiss: function onDismiss() {\n      return setEmailModalVisible(!emailModalVisible);\n    },\n    placeholderText: usernameText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }), React.createElement(ScreenContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(PasswordModal, {\n    visible: passwordModalVisible,\n    onDismiss: function onDismiss() {\n      return setPasswordModalVisible(!passwordModalVisible);\n    },\n    placeholderText: usernameText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      marginHorizontal: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 45,\n      color: 'white',\n      marginTop: 24,\n      marginBottom: '3%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Account\"), React.createElement(Divider, {\n    style: {\n      borderWidth: 1.75,\n      borderColor: DARKBLUE,\n      marginTop: -5,\n      width: '60%',\n      alignSelf: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginBottom: '3%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    style: {\n      marginTop: 24,\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"User Settings\")), React.createElement(Divider, {\n    style: {\n      borderWidth: 1.75,\n      borderColor: DARKBLUE,\n      marginTop: -5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Change Username\"), React.createElement(View, {\n    style: {\n      backgroundColor: LIGHTERBLUE,\n      paddingHorizontal: 20,\n      paddingVertical: 8,\n      borderRadius: 15,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      borderColor: DARKBLUE,\n      borderWidth: 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, React.createElement(Subheading, {\n    style: {\n      color: DARKBLUE\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, usernameText), React.createElement(FontAwesome, {\n    name: \"pencil\",\n    size: 30,\n    color: \"rgba(0,0,0,.45)\",\n    onPress: function onPress() {\n      return setEmailModalVisible(!emailModalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  })), React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Password\"), React.createElement(View, {\n    style: {\n      backgroundColor: LIGHTERBLUE,\n      paddingHorizontal: 20,\n      paddingVertical: 8,\n      borderRadius: 15,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      borderColor: DARKBLUE,\n      borderWidth: 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, React.createElement(Subheading, {\n    style: {\n      color: DARKBLUE\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"********\"), React.createElement(FontAwesome, {\n    name: \"pencil\",\n    size: 30,\n    color: \"rgba(0,0,0,.45)\",\n    onPress: function onPress() {\n      return setPasswordModalVisible(!passwordModalVisible);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), React.createElement(Title, {\n    style: {\n      marginTop: 24,\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Default Category\"), React.createElement(Divider, {\n    style: {\n      borderWidth: 1.75,\n      borderColor: DARKBLUE,\n      marginTop: '3%',\n      marginBottom: '8%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-evenly'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, React.createElement(Icon, {\n    name: \"deals\",\n    size: 40,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), React.createElement(Icon, {\n    name: \"happyHour\",\n    size: 40,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), React.createElement(Icon, {\n    name: \"whatsHappening\",\n    size: 40,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), React.createElement(Icon, {\n    name: \"misc\",\n    size: 40,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), React.createElement(Icon, {\n    name: \"rec\",\n    size: 40,\n    color: \"white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: {\n      marginTop: 24,\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, React.createElement(Title, {\n    style: {\n      fontSize: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Privacy\"), React.createElement(Feather, {\n    name: showBlocked ? \"eye\" : \"eye-off\",\n    size: 24,\n    color: \"white\",\n    onPress: function onPress() {\n      return setShowBlocked(!showBlocked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  })), React.createElement(Divider, {\n    style: {\n      borderWidth: 1.75,\n      borderColor: DARKBLUE,\n      width: '100%',\n      marginTop: '3%',\n      alignSelf: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), showBlocked && React.createElement(TableView, {\n    data: blockedUsers,\n    tableCellRenderer: postTableCell,\n    scrollEnabled: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/mattdizon/Desktop/bubble-react-native/src/screens/AccountSettings/AccountSettings.tsx"],"names":["React","useContext","useEffect","ScreenContainer","TableView","blockUser","getBlockedUsers","setDefaultCategory","unblockUser","updateUser","AuthContext","useState","Divider","Subheading","Title","Icon","DARKBLUE","LIGHTERBLUE","UserContext","FontAwesome","UsernameModal","PasswordModal","FontAwesome5","Feather","AccountSettings","emailModalVisible","setEmailModalVisible","passwordModalVisible","setPasswordModalVisible","blockedUsers","setBlockedUsers","credentials","me","defaultCat","setDefaultCat","username","usernameText","setUsername","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","showBlocked","setShowBlocked","then","blockedUserData","changeUserFields","fields","unblockUserAction","unblockParams","blockUserAction","postTableCell","item","flexDirection","justifyContent","alignItems","backgroundColor","paddingHorizontal","paddingVertical","borderColor","borderWidth","borderRadius","color","blocked_username","marginHorizontal","textAlign","fontSize","marginTop","marginBottom","width","alignSelf"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { ScreenContainer } from '../../components/ScreenContainer/ScreenContainer'\nimport { TableView } from '../../components/TableView/TableView'\nimport * as Location from 'expo-location';\nimport { blockUser, getBlockedUsers, getRadius, setDefaultCategory, unblockUser, updateUser } from '../../api/service';\nimport { AuthContext } from '../../providers/AuthProvider/AuthProvider';\nimport { useState } from 'react';\nimport { TableCell } from '../../components/TableCell/TableCell';\nimport { Divider, Subheading, TextInput, Title } from 'react-native-paper';\nimport { UNBLOCK_PARAMS, UPDATE_USER_PARAMS } from '../../api/types';\nimport { TouchableOpacity, View } from 'react-native';\nimport { DealsSVG } from '../../components/SVG/DealsSVG';\nimport { Icon } from '../../components/SVG/Icon/Icon';\nimport { Text} from 'react-native'\nimport { DARKBLUE, LIGHTBLUE, LIGHTERBLUE } from '../../utils/constants';\nimport { UserContext } from '../../providers/UserProvider/UserProvider';\nimport { FontAwesome, Entypo } from '@expo/vector-icons'\nimport { UsernameModal } from './components/UsernameModal/UsernameModal';\nimport { PasswordModal } from './components/PasswordModal/PasswordModal';\nimport { FontAwesome5 } from '@expo/vector-icons'; \nimport { Feather } from '@expo/vector-icons'; \n\nexport const AccountSettings = () => {\n  \n  const [emailModalVisible, setEmailModalVisible] = useState(false)\n  const [passwordModalVisible, setPasswordModalVisible] = useState(false)\n  const [blockedUsers, setBlockedUsers] = useState()\n  const { credentials } = useContext(AuthContext)\n  const { me } = useContext(UserContext)\n  const [defaultCat, setDefaultCat] = useState<undefined | string>()\n  const [usernameText, setUsername] = useState<undefined | string>(me?.username)\n  const [oldPassword, setOldPassword] = useState<undefined | string>()\n  const [newPassword, setNewPassword] = useState<undefined | string>()\n  const [confirmPassword, setConfirmPassword] = useState<undefined | string>()\n  const [showBlocked, setShowBlocked] = useState(false)\n\n  useEffect(() => {\n    ( async () => {\n        await getBlockedUsers(credentials!).then((blockedUserData) => {\n          setBlockedUsers(blockedUserData)\n        })\n    })()\n  }, [])\n\n  useEffect(() => {\n    defaultCat && setDefaultCategory(credentials!, defaultCat)\n  },[defaultCat])\n\n  const changeUserFields = (fields: UPDATE_USER_PARAMS) => {\n    updateUser(credentials!, fields)\n  }\n\n  const unblockUserAction = (unblockParams: UNBLOCK_PARAMS) => {\n    unblockUser(credentials!, unblockParams)\n  }\n\n  const blockUserAction = (unblockParams: UNBLOCK_PARAMS) => {\n    blockUser(credentials!, unblockParams)\n  }\n\n  const postTableCell = ({ item }: any) => {\n    return(\n      <View style={{flexDirection:'row', justifyContent: 'space-between', alignItems:'center', backgroundColor: LIGHTERBLUE, paddingHorizontal: 10, paddingVertical: 5, borderColor: DARKBLUE, borderWidth: 3, borderRadius: 10}}>\n        <Title style={{color:DARKBLUE}}>{item.blocked_username}</Title>\n        <FontAwesome5 name=\"trash-alt\" size={24} color=\"#ff6961\" />\n      </View>\n    )\n  }\n\n  return (\n    <>\n    <UsernameModal\n    visible={emailModalVisible}\n    onDismiss={() => setEmailModalVisible(!emailModalVisible)}\n    placeholderText={usernameText}\n    />\n    <ScreenContainer>\n      <PasswordModal\n        visible={passwordModalVisible}\n        onDismiss={() => setPasswordModalVisible(!passwordModalVisible)}\n        placeholderText={usernameText}\n      />\n      <View style={{marginHorizontal: 20}}>\n        <Text style={{ textAlign: 'center', fontSize: 45, color: 'white', marginTop: 24, marginBottom: '3%'}}>Account</Text>\n        <Divider style={{borderWidth: 1.75, borderColor: DARKBLUE,  marginTop: -5, width: '60%', alignSelf:'center'}}/>\n        <View style={{flexDirection:'row', justifyContent:'space-between', marginBottom: '3%'}}>\n        <Title style={{marginTop: 24, fontSize: 24}}>User Settings</Title>\n        </View>\n        <Divider style={{borderWidth: 1.75, borderColor: DARKBLUE,  marginTop: -5,}}/>\n        <Title>Change Username</Title>\n        <View style={{  backgroundColor: LIGHTERBLUE, paddingHorizontal: 20, paddingVertical: 8, borderRadius: 15, flexDirection:'row', justifyContent: 'space-between', borderColor: DARKBLUE, borderWidth: 3}}>\n          <Subheading style={{color: DARKBLUE}}>{usernameText}</Subheading>\n          <FontAwesome name=\"pencil\" size={30} color='rgba(0,0,0,.45)'onPress={() => setEmailModalVisible(!emailModalVisible)}/>\n        </View>\n        <Title>Password</Title>\n        <View style={{  backgroundColor: LIGHTERBLUE, paddingHorizontal: 20, paddingVertical: 8, borderRadius: 15, flexDirection:'row', justifyContent: 'space-between', borderColor: DARKBLUE, borderWidth: 3}}>\n          <Subheading style={{color: DARKBLUE}}>********</Subheading>\n          <FontAwesome name=\"pencil\" size={30} color='rgba(0,0,0,.45)'onPress={() => setPasswordModalVisible(!passwordModalVisible)}/>\n        </View>\n        <Title style={{marginTop: 24, fontSize: 24}}>Default Category</Title>\n        <Divider style={{borderWidth: 1.75, borderColor: DARKBLUE, marginTop: '3%', marginBottom: '8%'}}/>\n        <View style={{flexDirection:'row', justifyContent:'space-evenly'}}>\n          <Icon name ='deals' size={40} color='white'/>\n          <Icon name ='happyHour' size={40} color='white'/>\n          <Icon name ='whatsHappening' size={40} color='white'/>\n          <Icon name ='misc' size={40} color='white'/>\n          <Icon name ='rec' size={40} color='white'/>\n        </View>\n        <View style={{marginTop: 24, flexDirection:'row', justifyContent:'space-between', alignItems:'center'}}>\n          <Title style={{fontSize: 24}}>Privacy</Title>\n          <Feather name={showBlocked ? \"eye\" : \"eye-off\"} size={24} color=\"white\" onPress={() => setShowBlocked(!showBlocked)}/>\n        </View>\n        <Divider style={{borderWidth: 1.75, borderColor: DARKBLUE, width: '100%', marginTop: '3%', alignSelf:'center'}}/>\n        {showBlocked \n          && <TableView \n            data={blockedUsers} \n            tableCellRenderer={postTableCell}\n            scrollEnabled={false}\n          />\n        }\n      </View>\n    </ScreenContainer>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}